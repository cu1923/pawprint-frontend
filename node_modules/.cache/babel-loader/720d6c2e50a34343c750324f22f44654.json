{"ast":null,"code":"import _slicedToArray from\"/Users/siyuchen/Documents/GitHub/pawprint/pawprint/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"../css/Post.css\";import nolikes from\"../images/social/powell_cat_nolikes.png\";import likes from\"../images/social/powell_cat_likes.png\";import Axios from'axios';import{Image}from\"cloudinary-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Icon(props){return/*#__PURE__*/_jsx(\"img\",{className:\"icon\",src:props.symbol,alt:props.altName});}function Profile(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),yourUploads=_useState2[0],setYouruploads=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];useEffect(function(){if(localStorage.getItem(\"loggedIn\")===\"false\"){setName(\"Please login to view your profile\");}else{setName('Name: '+localStorage.getItem(\"username\"));}console.log(\"name: \"+name);});useEffect(function(){Axios.get(\"https://bruin-pawprint.herokuapp.com/byUser/\".concat(localStorage.getItem(\"username\"))).then(function(response){setYouruploads(response.data);});},[]);var delete_post1=function delete_post1(id,key){console.log(\"is here in id?\"+id);Axios.post('https://bruin-pawprint.herokuapp.com/delete',{id:id,username:localStorage.getItem(\"username\")}).then(function(response){alert(\"Sucessfully delete!\");setYouruploads(response.data);});};return/*#__PURE__*/_jsx(\"div\",{className:\"postContainer\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"Name\",children:name}),yourUploads.map(function(val,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"user_post\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"username_header\",children:/*#__PURE__*/_jsx(\"strong\",{children:val.user_id})}),/*#__PURE__*/_jsx(\"div\",{className:\"post_image\",children:/*#__PURE__*/_jsx(Image,{cloudName:\"bruin-pawprint\",publicId:val.image})}),/*#__PURE__*/_jsxs(\"div\",{className:\"likes\",children:[val.num_like===0?/*#__PURE__*/_jsx(Icon,{symbol:nolikes,altName:\"nolikes icon\"}):/*#__PURE__*/_jsx(Icon,{symbol:likes,altName:\"likes icon\"}),val.num_like,\" likes\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user_caption\",children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:val.user_id}),\" \",\" \",\" \",val.title]}),/*#__PURE__*/_jsx(\"div\",{className:\"delete_post\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){delete_post1(val.id,key);},children:\"Delete Post\"})})]});})]})});}export default Profile;","map":{"version":3,"sources":["/Users/siyuchen/Documents/GitHub/pawprint/pawprint/client/src/components/profile.jsx"],"names":["React","useEffect","useState","nolikes","likes","Axios","Image","Icon","props","symbol","altName","Profile","yourUploads","setYouruploads","name","setName","localStorage","getItem","console","log","get","then","response","data","delete_post1","id","key","post","username","alert","map","val","user_id","image","num_like","title"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"../css/Post.css\";\nimport nolikes from \"../images/social/powell_cat_nolikes.png\";\nimport likes from \"../images/social/powell_cat_likes.png\";\nimport Axios from 'axios';\nimport { Image } from \"cloudinary-react\";\n\nfunction Icon(props) {\n  return <img className=\"icon\" src={props.symbol} alt={props.altName} />;\n}\n\nfunction Profile() {\n  const [yourUploads, setYouruploads] = useState([]);\n  const [name, setName] = useState(\"\")\n\n  useEffect(()=>{\n    if(localStorage.getItem(\"loggedIn\") === \"false\"){\n      setName(\"Please login to view your profile\");\n    }else{\n      setName('Name: '+localStorage.getItem(\"username\"));\n    }\n    console.log(\"name: \"+name)\n  })\n\n  useEffect(() => {\n    Axios.get(`https://bruin-pawprint.herokuapp.com/byUser/${localStorage.getItem(\"username\")}`).then((response) => {\n        setYouruploads(response.data);\n    });\n  }, []);\n\n  const delete_post1 = (id,key) => {\n    console.log(\"is here in id?\"+ id)\n    Axios.post('https://bruin-pawprint.herokuapp.com/delete', {\n      id:id,\n      username:localStorage.getItem(\"username\")\n    })\n    .then((response)=>{\n      alert(\"Sucessfully delete!\");\n      setYouruploads(response.data);\n    })\n  }\n\n\n\n  return (\n    <div className=\"postContainer\">\n      <div>\n        <h1 className=\"Name\">{name}</h1>\n        {yourUploads.map((val, key) => {\n        return (\n          <div className=\"user_post\">\n            <div className=\"username_header\">\n              <strong>{val.user_id}</strong>\n            </div>\n            <div className=\"post_image\">\n              <Image cloudName=\"bruin-pawprint\" publicId={val.image} />\n            </div>\n            <div className=\"likes\"> \n              {\n                val.num_like === 0? <Icon symbol={nolikes} altName=\"nolikes icon\" />:\n                <Icon symbol={likes} altName=\"likes icon\" />\n              }\n              {val.num_like} likes\n            </div>\n            <div className=\"user_caption\">\n              {\" \"}\n              <strong>{val.user_id}</strong> {\" \"} {val.title}\n            </div>\n            <div className=\"delete_post\">\n              <button onClick={()=>{delete_post1(val.id,key)}}>\n                Delete Post\n              </button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n    </div>\n  );\n}\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}