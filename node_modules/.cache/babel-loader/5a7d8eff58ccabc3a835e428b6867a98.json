{"ast":null,"code":"import _slicedToArray from\"/Users/siyuchen/Documents/GitHub/pawprint/pawprint/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"../css/Login.css\";import{useState}from\"react\";import Axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{Button}from\"./Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passwd=_useState4[0],setPasswd=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var nav=useNavigate();var login=function login(){if(localStorage.getItem(\"loggedIn\")===\"true\"){alert(\"Can not login again\");}else{Axios.post(\"https://bruin-pawprint.herokuapp.com/login\",{username:username,passwd:passwd}).then(function(response){console.log(\"response: true\");if(response.data.loggedIn){localStorage.setItem(\"loggedIn\",true);localStorage.setItem(\"username\",response.data.username);alert(\"successful logged in!\");window.location.reload(false);nav(\"/\");}else{setErrorMessage(response.data.message);}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"register\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"information\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"LoginForm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",onChange:function onChange(event){setUsername(event.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:function onChange(event){setPasswd(event.target.value);}})]}),/*#__PURE__*/_jsx(Button,{onClick:login,primary:\"true\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"h1\",{style:{color:\"red\"},children:[errorMessage,\" \"]})]})]});}export default Login;","map":{"version":3,"sources":["/Users/siyuchen/Documents/GitHub/pawprint/pawprint/client/src/components/Login.js"],"names":["useState","Axios","useNavigate","Button","Login","username","setUsername","passwd","setPasswd","errorMessage","setErrorMessage","nav","login","localStorage","getItem","alert","post","then","response","console","log","data","loggedIn","setItem","window","location","reload","message","event","target","value","color"],"mappings":"4IAAA,MAAO,kBAAP,CACA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,MAAT,KAAuB,UAAvB,C,wFAEA,QAASC,CAAAA,KAAT,EAAiB,CACf,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAA4BN,QAAQ,CAAC,EAAD,CAApC,yCAAOO,MAAP,eAAeC,SAAf,eAEA,eAAwCR,QAAQ,CAAC,EAAD,CAAhD,yCAAOS,YAAP,eAAqBC,eAArB,eAEA,GAAIC,CAAAA,GAAG,CAAGT,WAAW,EAArB,CAEA,GAAMU,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,IAAqC,MAAxC,CAA+C,CAC7CC,KAAK,CAAC,qBAAD,CAAL,CACD,CAFD,IAEK,CACLd,KAAK,CAACe,IAAN,CAAW,4CAAX,CAAyD,CACvDX,QAAQ,CAAEA,QAD6C,CAEvDE,MAAM,CAAEA,MAF+C,CAAzD,EAGGU,IAHH,CAGQ,SAACC,QAAD,CAAc,CACpBC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,GAAIF,QAAQ,CAACG,IAAT,CAAcC,QAAlB,CAA4B,CAC1BT,YAAY,CAACU,OAAb,CAAqB,UAArB,CAAiC,IAAjC,EACAV,YAAY,CAACU,OAAb,CAAqB,UAArB,CAAiCL,QAAQ,CAACG,IAAT,CAAchB,QAA/C,EACAU,KAAK,CAAC,uBAAD,CAAL,CACAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACAf,GAAG,CAAC,GAAD,CAAH,CACD,CAND,IAMO,CACLD,eAAe,CAACQ,QAAQ,CAACG,IAAT,CAAcM,OAAf,CAAf,CACD,CACF,CAdD,EAeD,CACA,CApBD,CAsBA,mBACE,aAAK,SAAS,CAAC,OAAf,wBACE,WAAI,SAAS,CAAC,UAAd,mBADF,cAEE,aAAK,SAAS,CAAC,aAAf,wBACA,aAAK,SAAS,CAAC,WAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAACC,KAAD,CAAW,CACnBtB,WAAW,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACD,CALH,EADF,cAQE,cACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,QAAQ,CAAE,kBAACF,KAAD,CAAW,CACnBpB,SAAS,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAT,CACD,CALH,EARF,GADA,cAiBE,KAAC,MAAD,EAAQ,OAAO,CAAElB,KAAjB,CAAwB,OAAO,CAAC,MAAhC,mBAjBF,cAkBE,YAAI,KAAK,CAAE,CAAEmB,KAAK,CAAE,KAAT,CAAX,WAA8BtB,YAA9B,OAlBF,GAFF,GADF,CAyBD,CAED,cAAeL,CAAAA,KAAf","sourcesContent":["import \"../css/Login.css\";\nimport { useState } from \"react\";\nimport Axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"./Button\";\n\nfunction Login() {\n  const [username, setUsername] = useState(\"\");\n  const [passwd, setPasswd] = useState(\"\");\n\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  let nav = useNavigate();\n\n  const login = () => {\n    if(localStorage.getItem(\"loggedIn\") === \"true\"){\n      alert(\"Can not login again\")\n    }else{\n    Axios.post(\"https://bruin-pawprint.herokuapp.com/login\", {\n      username: username,\n      passwd: passwd,\n    }).then((response) => {\n      console.log(\"response: true\")\n      if (response.data.loggedIn) {\n        localStorage.setItem(\"loggedIn\", true);\n        localStorage.setItem(\"username\", response.data.username);\n        alert(\"successful logged in!\")\n        window.location.reload(false);\n        nav(\"/\");\n      } else {\n        setErrorMessage(response.data.message);\n      }\n    });\n  }\n  };\n\n  return (\n    <div className=\"Login\">\n      <h1 className=\"register\">Login</h1>\n      <div className=\"information\">\n      <div className=\"LoginForm\">\n        <input\n          type=\"text\"\n          placeholder=\"Username\"\n          onChange={(event) => {\n            setUsername(event.target.value);\n          }}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          onChange={(event) => {\n            setPasswd(event.target.value);\n          }}\n        />\n        </div>\n        <Button onClick={login} primary=\"true\">Login</Button>\n        <h1 style={{ color: \"red\" }}>{errorMessage} </h1>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}